<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>
</head>
<body>
    {% if is_self is defined and is_self %}
        <h1>Welcome, {{ user.username }}!</h1>
        <p>You are logged in as: <strong>{{ user.role|capitalize }}</strong></p>
    {% else %}
        <h1>{{ user.username }}'s Profile</h1>
        <p>Role: <strong>{{ user.role|capitalize }}</strong></p>
    {% endif %}

    {% if user.role == 'student' and user.student_profile %}
        {% set pfp = user.student_profile.pfp %}
        <p>This is the student profile section (later you can show student features here).</p>
    {% elif user.role == 'mentor' and user.mentor_profile %}
        {% set pfp = user.mentor_profile.pfp %}
        <p>This is the mentor profile section (later you can show mentor features here).</p>
    {% else %}
        {% set pfp = None %}
    {% endif %}

    <div style="text-align:center; margin-bottom: 1rem;">
    <img src="{{ url_for('static', filename='assets/pfp/' + (pfp if pfp not in [None, '', ' '] else 'default_pfp.png')) }}"
        alt="Profile picture"
        style="width:150px; height:150px; object-fit:cover; border-radius:50%;">
    </div>

    <a href="{{ url_for('project_list') }}">Go to Project Board</a><br>
    <a href="{{ url_for('forum') }}">Go to Discussion Board</a><br>

    {% if is_self is defined and is_self %}
        <a href="{{ url_for('logout') }}">Press here to logout</a>
    {% endif %}
</body>
</html>